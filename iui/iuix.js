(function(){var _1=20;var _2=0;var _3=null;var _4=null;var _5=0;var _6=location.hash;var _7="#_";var _8=[];var _9=0;var _a;window.iui={showPage:function(_b,_c){if(_4){_4.removeAttribute("selected");_4=null;}if(_b.className.indexOf("dialog")!=-1){showDialog(_b);}else{var _d=_3;_3=_b;if(_d){setTimeout(slidePages,0,_d,_b,_c);}else{updatePage(_b,_d);}}},showPageById:function(_e){var _f=$(_e);if(_f){var _10=_8.indexOf(_e);var _11=_10!=-1;if(_11){_8.splice(_10,_8.length);}iui.showPage(_f,_11);}},showPageByHref:function(_12,_13,cb){var req=new XMLHttpRequest();req.onerror=function(){if(cb){cb(false);}};req.onreadystatechange=function(){if(req.readyState==4){var _16=document.createElement("div");_16.innerHTML=req.responseText;iui.insertPages(_16.childNodes);if(cb){setTimeout(cb,1000,true);}}};if(_13){req.open("POST",_12,true);req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");req.setRequestHeader("Content-Length",_13.length);req.send(_13.join("&"));}else{req.open("GET",_12,true);req.send(null);}},insertPages:function(_17){var _18;for(var i=0;i<_17.length;++i){var _1a=_17[i];if(_1a.nodeType==1){if(!_1a.id){_1a.id="__"+(++_9)+"__";}if(_1a.ownerDocument!=document){document.adoptNode(_1a);}document.body.appendChild(_1a);if(_1a.getAttribute("selected")=="true"||!_18){_18=_1a;}--i;}}if(_18){iui.showPage(_18);}},getSelectedPage:function(){for(var _1b=document.body.firstChild;_1b;_1b=_1b.nextSibling){if(_1b.nodeType==1&&_1b.getAttribute("selected")=="true"){return _1b;}}}};addEventListener("load",function(_1c){var _1d=iui.getSelectedPage();if(_1d){iui.showPage(_1d);}setTimeout(preloadImages,0);setTimeout(checkOrientAndLocation,0);_a=setInterval(checkOrientAndLocation,300);},false);addEventListener("click",function(_1e){var _1f=findParent(_1e.target,"a");if(_1f){function unselect(){_1f.removeAttribute("selected");}if(_1f.href&&_1f.hash&&_1f.hash!="#"){_1f.setAttribute("selected","true");iui.showPage($(_1f.hash.substr(1)));setTimeout(unselect,500);}else{if(_1f==$("backButton")){history.back();}else{if(_1f.getAttribute("type")=="submit"){submitForm(findParent(_1f,"form"));}else{if(!_1f.target){_1f.setAttribute("selected","progress");iui.showPageByHref(_1f.href,null,unselect);}else{return;}}}}_1e.preventDefault();}},true);addEventListener("click",function(_20){var div=findParent(_20.target,"div");if(div.className=="toggle"){div.setAttribute("toggled",div.getAttribute("toggled")!="true");_20.preventDefault();}},true);function checkOrientAndLocation(){if(window.innerWidth!=_5){_5=window.innerWidth;var _22=_5==320?"profile":"landscape";document.body.setAttribute("orient",_22);setTimeout(scrollTo,100,0,1);}if(location.hash!=_6){var _23=location.hash.substr(_7.length);iui.showPageById(_23);}}function showDialog(_24){_4=_24;_24.setAttribute("selected","true");if(_24.target){return;}_24.onsubmit=function(_25){_25.preventDefault();submitForm(_24);};_24.onclick=function(_26){if(_26.target==_24){_24.removeAttribute("selected");document.body.removeChild(iframe);}};}function updatePage(_27,_28){location.href=_6=_7+_27.id;_8.push(_27.id);var _29=$("pageTitle");_29.innerHTML=_27.title||"-";var _2a=$("backButton");if(_2a){var _2b=$(_8[_8.length-2]);if(_2b){_2a.style.display="inline";_2a.innerHTML=_2b.title?_2b.title:"Back";}else{_2a.style.display="none";}}}function slidePages(_2c,_2d,_2e){_2d.style.left="100%";_2d.setAttribute("selected","true");scrollTo(0,1);var _2f=100;slide();var _30=setInterval(slide,_2);clearInterval(_a);function slide(){_2f-=_1;if(_2f<=0){_2f=0;_2c.removeAttribute("selected");clearInterval(_30);_a=setInterval(checkOrientAndLocation,300);setTimeout(updatePage,0,_2d,_2c);}_2c.style.left=(_2e?(100-_2f):(_2f-100))+"%";_2d.style.left=(_2e?-_2f:_2f)+"%";}}function preloadImages(){var _31=document.createElement("div");_31.id="preloader";document.body.appendChild(_31);}function submitForm(_32){iui.showPageByHref(_32.action,encodeForm(_32));}function encodeForm(_33){var _34=[];var _35=_33.getElementsByTagName("input");for(var i=0;i<_35.length;++i){if(_35[i].name){_34.push(_35[i].name+"="+escape(_35[i].value));}}return _34;}function findParent(_37,_38){while(_37&&(_37.nodeType!=1||_37.localName.toLowerCase()!=_38)){_37=_37.parentNode;}return _37;}function $(id){return document.getElementById(id);}function ddd(){console.log.apply(console,arguments);}})();